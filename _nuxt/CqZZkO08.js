var ae=Object.defineProperty;var W=s=>{throw TypeError(s)};var se=(s,t,n)=>t in s?ae(s,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[t]=n;var O=(s,t,n)=>se(s,typeof t!="symbol"?t+"":t,n),ne=(s,t,n)=>t.has(s)||W("Cannot "+n);var U=(s,t,n)=>(ne(s,t,"read from private field"),n?n.call(s):t.get(s)),Y=(s,t,n)=>t.has(s)?W("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(s):t.set(s,n);import{a as R}from"./BSPjD21-.js";import{I as F}from"./D6WukCTb.js";import{s as V,v as re,x as B,y as ie,z as oe,j as le,i as ce,A,B as K,C as x,r as Z,D as H,E as ue,G as de,m as v,H as fe,I as ee,J as he,K as ye,k as te,l as L,o as j,L as me,w as N,a as p,c as G,b as $,t as I,d as J,M as _e,g as ge,T as pe,n as ve,F as be,p as we}from"./CITJn61I.js";import{_ as De}from"./Bw6vs7tR.js";const xe={trailing:!0};function $e(s,t=25,n={}){if(n={...xe,...n},!Number.isFinite(t))throw new TypeError("Expected `wait` to be a finite number");let e,a,r=[],i,o;const l=(y,u)=>(i=Be(s,y,u),i.finally(()=>{if(i=null,n.trailing&&o&&!a){const _=l(y,o);return o=null,_}}),i);return function(...y){return i?(n.trailing&&(o=y),i):new Promise(u=>{const _=!a&&n.leading;clearTimeout(a),a=setTimeout(()=>{a=null;const c=n.leading?e:l(this,y);for(const g of r)g(c);r=[]},t),_?(e=l(this,y),u(e)):r.push(u)})}}async function Be(s,t,n){return await s.apply(t,n)}function Ce(s){return typeof s=="string"?`'${s}'`:new je().serialize(s)}const je=function(){var t;class s{constructor(){Y(this,t,new Map)}compare(e,a){const r=typeof e,i=typeof a;return r==="string"&&i==="string"?e.localeCompare(a):r==="number"&&i==="number"?e-a:String.prototype.localeCompare.call(this.serialize(e,!0),this.serialize(a,!0))}serialize(e,a){if(e===null)return"null";switch(typeof e){case"string":return a?e:`'${e}'`;case"bigint":return`${e}n`;case"object":return this.$object(e);case"function":return this.$function(e)}return String(e)}serializeObject(e){const a=Object.prototype.toString.call(e);if(a!=="[object Object]")return this.serializeBuiltInType(a.length<10?`unknown:${a}`:a.slice(8,-1),e);const r=e.constructor,i=r===Object||r===void 0?"":r.name;if(i!==""&&globalThis[i]===r)return this.serializeBuiltInType(i,e);if(typeof e.toJSON=="function"){const o=e.toJSON();return i+(o!==null&&typeof o=="object"?this.$object(o):`(${this.serialize(o)})`)}return this.serializeObjectEntries(i,Object.entries(e))}serializeBuiltInType(e,a){const r=this["$"+e];if(r)return r.call(this,a);if(typeof(a==null?void 0:a.entries)=="function")return this.serializeObjectEntries(e,a.entries());throw new Error(`Cannot serialize ${e}`)}serializeObjectEntries(e,a){const r=Array.from(a).sort((o,l)=>this.compare(o[0],l[0]));let i=`${e}{`;for(let o=0;o<r.length;o++){const[l,y]=r[o];i+=`${this.serialize(l,!0)}:${this.serialize(y)}`,o<r.length-1&&(i+=",")}return i+"}"}$object(e){let a=U(this,t).get(e);return a===void 0&&(U(this,t).set(e,`#${U(this,t).size}`),a=this.serializeObject(e),U(this,t).set(e,a)),a}$function(e){const a=Function.prototype.toString.call(e);return a.slice(-15)==="[native code] }"?`${e.name||""}()[native]`:`${e.name}(${e.length})${a.replace(/\s*\n\s*/g,"")}`}$Array(e){let a="[";for(let r=0;r<e.length;r++)a+=this.serialize(e[r]),r<e.length-1&&(a+=",");return a+"]"}$Date(e){try{return`Date(${e.toISOString()})`}catch{return"Date(null)"}}$ArrayBuffer(e){return`ArrayBuffer[${new Uint8Array(e).join(",")}]`}$Set(e){return`Set${this.$Array(Array.from(e).sort((a,r)=>this.compare(a,r)))}`}$Map(e){return this.serializeObjectEntries("Map",e.entries())}}t=new WeakMap;for(const n of["Error","RegExp","URL"])s.prototype["$"+n]=function(e){return`${n}(${e})`};for(const n of["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"])s.prototype["$"+n]=function(e){return`${n}[${e.join(",")}]`};for(const n of["BigInt64Array","BigUint64Array"])s.prototype["$"+n]=function(e){return`${n}[${e.join("n,")}${e.length>0?"n":""}]`};return s}(),Oe=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],ze=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],Ee="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",z=[];class Pe{constructor(){O(this,"_data",new S);O(this,"_hash",new S([...Oe]));O(this,"_nDataBytes",0);O(this,"_minBufferSize",0)}finalize(t){t&&this._append(t);const n=this._nDataBytes*8,e=this._data.sigBytes*8;return this._data.words[e>>>5]|=128<<24-e%32,this._data.words[(e+64>>>9<<4)+14]=Math.floor(n/4294967296),this._data.words[(e+64>>>9<<4)+15]=n,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}_doProcessBlock(t,n){const e=this._hash.words;let a=e[0],r=e[1],i=e[2],o=e[3],l=e[4],y=e[5],u=e[6],_=e[7];for(let c=0;c<64;c++){if(c<16)z[c]=t[n+c]|0;else{const w=z[c-15],b=(w<<25|w>>>7)^(w<<14|w>>>18)^w>>>3,f=z[c-2],h=(f<<15|f>>>17)^(f<<13|f>>>19)^f>>>10;z[c]=b+z[c-7]+h+z[c-16]}const g=l&y^~l&u,C=a&r^a&i^r&i,E=(a<<30|a>>>2)^(a<<19|a>>>13)^(a<<10|a>>>22),d=(l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25),m=_+d+g+ze[c]+z[c],D=E+C;_=u,u=y,y=l,l=o+m|0,o=i,i=r,r=a,a=m+D|0}e[0]=e[0]+a|0,e[1]=e[1]+r|0,e[2]=e[2]+i|0,e[3]=e[3]+o|0,e[4]=e[4]+l|0,e[5]=e[5]+y|0,e[6]=e[6]+u|0,e[7]=e[7]+_|0}_append(t){typeof t=="string"&&(t=S.fromUtf8(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes}_process(t){let n,e=this._data.sigBytes/64;t?e=Math.ceil(e):e=Math.max((e|0)-this._minBufferSize,0);const a=e*16,r=Math.min(a*4,this._data.sigBytes);if(a){for(let i=0;i<a;i+=16)this._doProcessBlock(this._data.words,i);n=this._data.words.splice(0,a),this._data.sigBytes-=r}return new S(n,r)}}class S{constructor(t,n){O(this,"words");O(this,"sigBytes");t=this.words=t||[],this.sigBytes=n===void 0?t.length*4:n}static fromUtf8(t){const n=unescape(encodeURIComponent(t)),e=n.length,a=[];for(let r=0;r<e;r++)a[r>>>2]|=(n.charCodeAt(r)&255)<<24-r%4*8;return new S(a,e)}toBase64(){const t=[];for(let n=0;n<this.sigBytes;n+=3){const e=this.words[n>>>2]>>>24-n%4*8&255,a=this.words[n+1>>>2]>>>24-(n+1)%4*8&255,r=this.words[n+2>>>2]>>>24-(n+2)%4*8&255,i=e<<16|a<<8|r;for(let o=0;o<4&&n*8+o*6<this.sigBytes*8;o++)t.push(Ee.charAt(i>>>6*(3-o)&63))}return t.join("")}concat(t){if(this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4),this.sigBytes%4)for(let n=0;n<t.sigBytes;n++){const e=t.words[n>>>2]>>>24-n%4*8&255;this.words[this.sigBytes+n>>>2]|=e<<24-(this.sigBytes+n)%4*8}else for(let n=0;n<t.sigBytes;n+=4)this.words[this.sigBytes+n>>>2]=t.words[n>>>2];this.sigBytes+=t.sigBytes}}function Se(s){return new Pe().finalize(s).toBase64()}function P(s){return Se(Ce(s))}const Te=Symbol.for("nuxt:client-only"),Me=s=>s==="defer"||s===!1;function Ue(...s){var E;const t=typeof s[s.length-1]=="string"?s.pop():void 0;typeof s[0]!="string"&&typeof s[0]!="object"&&!(typeof s[0]=="function"&&typeof s[1]=="function")&&s.unshift(t);let[n,e,a={}]=s;const r=V(()=>x(n));if(typeof r.value!="string")throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if(typeof e!="function")throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const i=re(),o=()=>B.value,l=(d,m,D)=>{if(m.isHydrating)return m.payload.data[d];if(D.cause!=="refresh:manual"&&D.cause!=="refresh:hook")return m.static.data[d]};a.server??(a.server=!0),a.default??(a.default=o),a.getCachedData??(a.getCachedData=l),a.lazy??(a.lazy=!1),a.immediate??(a.immediate=!0),a.deep??(a.deep=B.deep),a.dedupe??(a.dedupe="cancel"),a._functionName,i._asyncData[r.value];const y=a.getCachedData(r.value,i,{cause:"initial"});(E=i._asyncData[r.value])!=null&&E._init||(i._asyncData[r.value]=X(i,r.value,e,a,y));const u=i._asyncData[r.value];u._deps++;const _=()=>i._asyncData[r.value].execute({cause:"initial",dedupe:a.dedupe}),c=a.server!==!1&&i.payload.serverRendered;{let d=function(f){const h=i._asyncData[f];h!=null&&h._deps&&(h._deps--,h._deps===0&&(h==null||h._off(),h._init=!1,Q(i,f),h.execute=()=>Promise.resolve(),i._asyncData[f].data.value=B.value))};const m=ie();if(m&&c&&a.immediate&&!m.sp&&(m.sp=[]),m&&!m._nuxtOnBeforeMountCbs){m._nuxtOnBeforeMountCbs=[];const f=m._nuxtOnBeforeMountCbs;oe(()=>{f.forEach(h=>{h()}),f.splice(0,f.length)}),le(()=>f.splice(0,f.length))}const D=m&&(m._nuxtClientOnly||ce(Te,!1));c&&i.isHydrating&&(u.error.value||y!=null)?(u.pending.value=!1,u.status.value=u.error.value?"error":"success"):m&&!D&&(i.payload.serverRendered&&i.isHydrating||a.lazy)&&a.immediate?m._nuxtOnBeforeMountCbs.push(_):a.immediate&&_();const w=fe();if(a.watch){const f=A(a.watch,()=>{u._execute({cause:"watch",dedupe:a.dedupe})},{flush:"post"});w&&K(()=>f())}const b=A(r,(f,h)=>{var q,M;const T=((q=i._asyncData[h])==null?void 0:q.data.value)!==B.value;h&&d(h),(M=i._asyncData[f])!=null&&M._init||(i._asyncData[f]=X(i,f,e,a,a.getCachedData(f,i,{cause:"initial"}))),i._asyncData[f]._deps++,(a.immediate||T)&&i._asyncData[f].execute({cause:"initial",dedupe:a.dedupe})},{flush:"sync"});w&&K(()=>{b(),d(r.value)})}const g={data:k(()=>{var d;return(d=i._asyncData[r.value])==null?void 0:d.data}),pending:k(()=>{var d;return(d=i._asyncData[r.value])==null?void 0:d.pending}),status:k(()=>{var d;return(d=i._asyncData[r.value])==null?void 0:d.status}),error:k(()=>{var d;return(d=i._asyncData[r.value])==null?void 0:d.error}),refresh:(...d)=>i._asyncData[r.value].execute(...d),execute:(...d)=>i._asyncData[r.value].execute(...d),clear:()=>Q(i,r.value)},C=Promise.resolve(i._asyncDataPromises[r.value]).then(()=>g);return Object.assign(C,g),C}function k(s){return V({get(){var t;return(t=s())==null?void 0:t.value},set(t){const n=s();n&&(n.value=t)}})}function Q(s,t){t in s.payload.data&&(s.payload.data[t]=void 0),t in s.payload._errors&&(s.payload._errors[t]=B.errorValue),s._asyncData[t]&&(s._asyncData[t].data.value=void 0,s._asyncData[t].error.value=B.errorValue,s._asyncData[t].pending.value=!1,s._asyncData[t].status.value="idle"),t in s._asyncDataPromises&&(s._asyncDataPromises[t]&&(s._asyncDataPromises[t].cancelled=!0),s._asyncDataPromises[t]=void 0)}function Ie(s,t){const n={};for(const e of t)n[e]=s[e];return n}function X(s,t,n,e,a){var y;(y=s.payload._errors)[t]??(y[t]=B.errorValue);const r=n,i=e.deep?Z:H,o=a!=null,l={data:i(o?a:e.default()),pending:H(!o),error:ue(s.payload._errors,t),status:H("idle"),execute:(u={})=>{if(s._asyncDataPromises[t]){if(Me(u.dedupe??e.dedupe))return s._asyncDataPromises[t];s._asyncDataPromises[t].cancelled=!0}if(u.cause==="initial"||s.isHydrating){const c=u.cause==="initial"?a:e.getCachedData(t,s,{cause:u.cause??"refresh:manual"});if(c!=null)return s.payload.data[t]=l.data.value=c,l.error.value=B.errorValue,l.status.value="success",Promise.resolve(c)}l.pending.value=!0,l.status.value="pending";const _=new Promise((c,g)=>{try{c(r(s))}catch(C){g(C)}}).then(async c=>{if(_.cancelled)return s._asyncDataPromises[t];let g=c;e.transform&&(g=await e.transform(c)),e.pick&&(g=Ie(g,e.pick)),s.payload.data[t]=g,l.data.value=g,l.error.value=B.errorValue,l.status.value="success"}).catch(c=>{if(_.cancelled)return s._asyncDataPromises[t];l.error.value=de(c),l.data.value=v(e.default()),l.status.value="error"}).finally(()=>{_.cancelled||(l.pending.value=!1,delete s._asyncDataPromises[t])});return s._asyncDataPromises[t]=_,s._asyncDataPromises[t]},_execute:$e((...u)=>l.execute(...u),0,{leading:!0}),_default:e.default,_deps:0,_init:!0,_hash:void 0,_off:s.hook("app:data:refresh",async u=>{(!u||u.includes(t))&&await l.execute({cause:"refresh:hook"})})};return l}function Re(s,t,n){const[e={},a]=typeof t=="string"?[{},t]:[t,n],r=V(()=>x(s)),i=V(()=>x(e.key)||"$f"+P([a,typeof r.value=="string"?r.value:"",...Fe(e)]));if(!e.baseURL&&typeof r.value=="string"&&r.value[0]==="/"&&r.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:o,lazy:l,default:y,transform:u,pick:_,watch:c,immediate:g,getCachedData:C,deep:E,dedupe:d,...m}=e,D=ee({...he,...m,cache:typeof e.cache=="boolean"?void 0:e.cache}),w={server:o,lazy:l,default:y,transform:u,pick:_,immediate:g,getCachedData:C,deep:E,dedupe:d,watch:c===!1?[]:[...c||[],D]};if(!g){let h=function(){w.immediate=!0};A(i,h,{flush:"sync",once:!0}),c&&A([...c,D],h,{flush:"sync",once:!0})}let b;return Ue(i,()=>{var M;(M=b==null?void 0:b.abort)==null||M.call(b,new DOMException("Request aborted as another request to the same endpoint was initiated.","AbortError")),b=typeof AbortController<"u"?new AbortController:{};const h=x(e.timeout);let T;return h&&(T=setTimeout(()=>b.abort(new DOMException("Request aborted due to timeout.","AbortError")),h),b.signal.onabort=()=>clearTimeout(T)),(e.$fetch||globalThis.$fetch)(r.value,{signal:b.signal,...D}).finally(()=>{clearTimeout(T)})},w)}function Fe(s){var n;const t=[((n=x(s.method))==null?void 0:n.toUpperCase())||"GET",x(s.baseURL)];for(const e of[s.params||s.query]){const a=x(e);if(!a)continue;const r={};for(const[i,o]of Object.entries(a))r[x(i)]=x(o);t.push(r)}if(s.body){const e=x(s.body);if(!e)t.push(P(e));else if(e instanceof ArrayBuffer)t.push(P(Object.fromEntries([...new Uint8Array(e).entries()].map(([a,r])=>[a,r.toString()]))));else if(e instanceof FormData)t.push(P(Object.fromEntries(e.entries())));else if(ye(e))t.push(P(ee(e)));else try{t.push(P(e))}catch{console.warn("[useFetch] Failed to hash body",e)}}return t}const Le={class:"flex w-full justify-between items-center"},Ne={class:"flex items-center gap-2"},ke={class:"justify-start text-neutral-800 text-xl font-bold"},Ve={class:"px-3 py-1.5 text-sm text-red-700 font-semibold bg-red-100 rounded-md flex justify-center items-center"},Ae={class:"flex items-center gap-2 my-4 flex-wrap justify-between"},qe={class:"flex gap-2 items-center"},He={class:"flex gap-2 items-center"},Je={class:"flex gap-2 items-baseline basis-full"},Ge={key:0,class:"w-full px-4 py-3 bg-gradient-to-b text-white font-medium shadow-lg shadow-red-600/25 from-red-600 to-red-400 rounded-lg text-center"},We={key:1,class:"w-full px-4 py-3 font-medium bg-neutral-100 rounded-lg text-center"},Ye=te({__name:"CardTicket",props:{item:{type:Object,required:!0},open:{type:Boolean,default:!1}},setup(s){return(t,n)=>(j(),L(v(R).div,{class:me([{"border border-neutral-200 shadow-xl shadow-black/5":!s.open},"w-full gap-4 p-4 bg-white rounded-2xl"])},{default:N(()=>[p("div",Le,[p("div",Ne,[$(v(F),{icon:"ion:warning",class:"text-red-500 text-4xl"}),p("div",ke,"#"+I(s.item.ticket_ref),1)]),p("div",Ve,I(s.item.detail.content[0].status_label),1)]),p("div",Ae,[p("div",qe,[$(v(F),{icon:"material-symbols:calendar-today",class:"text-neutral-400 text-2xl"}),J(" "+I(new Date(s.item.created_at).toLocaleDateString("id-ID",{weekday:"long",day:"2-digit",month:"long",year:"numeric"})),1)]),p("div",He,[$(v(F),{icon:"iconoir:phone-solid",class:"text-neutral-400 text-xl"}),J(" "+I(s.item.phone_ref),1)]),p("div",Je,[$(v(F),{icon:"mingcute:location-fill",class:"text-neutral-400 shrink-0 text-xl"}),J(" "+I(s.item.detail.content[0].address),1)])]),s.item.detail.content[0].detail_pelaporan?(j(),G("div",Ge," Lihat Detail ")):(j(),G("div",We," Menunggu Konfirmasi "))]),_:1},8,["class"]))}}),Ke={class:"pb-32"},Qe={class:"pt-28 pb-8 relative px-8 flex flex-col gap-4"},Xe={class:"bg-white flex items-center rounded-lg overflow-hidden"},Ze={class:"flex flex-col gap-4 px-8"},rt=te({__name:"history",async setup(s){let t,n;const{data:e,refresh:a}=([t,n]=_e(()=>Re("https://d5af-202-146-144-126.ngrok-free.app/api/all-ticket",{method:"POST",body:{user_id:2}},"$IkCHW8M_Pu")),t=await t,n(),t),r=Z(null);return ge(()=>{e.value.length>0&&setTimeout(()=>{r.value=e.value[0]},1e3)}),(i,o)=>{const l=Ye,y=De;return j(),L(y,null,{default:N(()=>[(j(),L(pe,{to:"body"},[v(r)?(j(),L(v(R).div,{key:0,class:"fixed z-10 w-full h-screen flex items-center justify-center px-8 top-0 left-0"},{default:N(()=>[$(v(R).div,{initial:{background:"transparent"},animate:{background:"white",transition:{duration:1,delay:.5}},class:"z-[1] rounded-2xl"},{default:N(()=>[$(v(R).div,{"layout-id":`card-${v(r).id}`},{default:N(()=>[$(l,{open:!0,item:v(r)},null,8,["item"])]),_:1},8,["layout-id"]),$(v(R).iframe,{initial:{opacity:0,height:0},animate:{opacity:1,height:"250px",transition:{duration:.5,delay:.5}},src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3966.574665739237!2d106.82592097570915!3d-6.187630093799928!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2e69f421359f20ef%3A0xc422f4bc4666e68!2sPT%20Jasnita%20Telekomindo%2C%20Tbk!5e0!3m2!1sid!2sid!4v1746706778431!5m2!1sid!2sid",class:"w-full rounded-md",loading:"lazy",referrerpolicy:"no-referrer-when-downgrade"})]),_:1}),p("div",{onClick:o[0]||(o[0]=u=>r.value=null),class:"absolute w-full h-full bg-black opacity-25 backdrop-blur-2xl"})]),_:1})):ve("",!0)])),p("div",Ke,[o[4]||(o[4]=p("div",{class:"h-96 px-4 py-3 left-0 top-0 -z-10 w-full absolute bg-gradient-to-b from-red-400 to-red-600 rounded-bl-2xl rounded-br-2xl"},null,-1)),p("div",Qe,[o[2]||(o[2]=p("div",{class:"text-3xl leading-none font-bold text-white"},"Riwayat Laporan",-1)),o[3]||(o[3]=p("div",{class:"opacity-100 text-red-100"},"Daftar Laporan Yang Telah Kamu Buat",-1)),p("div",Xe,[o[1]||(o[1]=p("input",{type:"text",placeholder:"Cari Laporanmu disini..",class:"w-full outline-none px-4 py-3.5 placeholder-neutral-400"},null,-1)),$(v(F),{class:"text-red-400 text-3xl mx-4",icon:"lucide:search"})])]),p("div",Ze,[(j(!0),G(be,null,we(v(e),(u,_)=>(j(),L(l,{onClick:c=>r.value=u,"layout-id":`card-${u.id}`,item:u,key:_},null,8,["onClick","layout-id","item"]))),128))])])]),_:1})}}});export{rt as default};
